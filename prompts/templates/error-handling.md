# エラーハンドリング仕様生成プロンプト

以下のAPI向けに、包括的なエラーハンドリング仕様書を生成してください。

## API基本情報
- **API名**: [API名を記入]
- **バージョン**: [バージョンを記入]

## 要求事項

以下を含む詳細なエラーハンドリング仕様を生成してください：

### 1. エラーレスポンスの標準フォーマット

すべてのエラーレスポンスで使用する標準的なJSON形式を定義してください。
- エラーコード
- エラーメッセージ
- 詳細情報
- タイムスタンプ
- リクエストID（トレーシング用）

### 2. HTTPステータスコード一覧

各ステータスコードについて以下を含めてください：
- ステータスコード
- 意味
- 発生する状況
- レスポンス例
- クライアント側の推奨対処法

#### クライアントエラー (4xx)
- 400 Bad Request
- 401 Unauthorized
- 403 Forbidden
- 404 Not Found
- 405 Method Not Allowed
- 409 Conflict
- 422 Unprocessable Entity
- 429 Too Many Requests

#### サーバーエラー (5xx)
- 500 Internal Server Error
- 502 Bad Gateway
- 503 Service Unavailable
- 504 Gateway Timeout

### 3. アプリケーションエラーコード

API固有のエラーコード体系を定義してください：
- エラーコード形式（例：ERR_001, AUTH_001など）
- カテゴリ別のエラーコード
  - 認証エラー (AUTH_xxx)
  - バリデーションエラー (VALID_xxx)
  - ビジネスロジックエラー (BIZ_xxx)
  - リソースエラー (RES_xxx)
  - 外部サービスエラー (EXT_xxx)

各エラーコードについて：
- コード
- エラーメッセージ
- 詳細説明
- HTTPステータスコード
- 対処方法

### 4. バリデーションエラーの詳細

フォーム入力やリクエストボディのバリデーションエラー時の詳細な情報提供方法：
- どのフィールドでエラーが発生したか
- 具体的なバリデーションルール違反の内容
- 複数エラーの場合の表現方法

### 5. エラーハンドリングのベストプラクティス

以下を含めてください：
- エラーメッセージの書き方
- セキュリティ上の考慮事項（センシティブ情報の露出防止）
- ログ記録すべき情報
- リトライ可能なエラーの識別方法
- クライアント側のエラーハンドリング推奨パターン

### 6. 具体例

以下のシナリオでのエラーレスポンス例を含めてください：
- 認証トークンが無効
- 必須フィールドの欠落
- 型の不一致
- 範囲外の値
- 重複するリソース
- リソースが見つからない
- レート制限超過
- サーバー内部エラー

---

上記の要件を満たす、包括的なエラーハンドリング仕様書を生成してください。

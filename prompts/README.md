# プロンプト集

このディレクトリには、AIエージェントを使用してOpenAPI仕様書を拡充し、より詳細で実用的なAPI仕様書を生成するためのプロンプトテンプレートが含まれています。

## ディレクトリ構造

```
prompts/
├── templates/          # 再利用可能なプロンプトテンプレート
│   ├── openapi-enrichment.md   # OpenAPI仕様書拡充（主要）
│   ├── basic-api-spec.md       # 基本的なAPI仕様書生成
│   ├── openapi-spec.md         # OpenAPI仕様書生成
│   ├── endpoint-detail.md      # エンドポイント詳細
│   └── error-handling.md       # エラーハンドリング
├── examples/           # 実際の使用例
│   └── user-management-api.md
└── README.md          # このファイル
```

## テンプレート一覧

### 🌟 主要テンプレート

#### openapi-enrichment.md
**既存のOpenAPI仕様書を拡充するためのメインテンプレート**

**用途**: OpenAPI仕様書（YAML/JSON）を入力として、ユースケース中心の詳細な仕様書を生成

**特徴**:
- ユースケースごとのAPI呼び出し手順を自動生成
- 専門用語の定義を追加
- API間の関連性を明確化
- ID指定APIの利用文脈を説明

**適している場合**:
- 既にOpenAPI仕様書があるが、説明が不足している
- API利用者向けに、より実用的なドキュメントが必要
- ユースケースやAPI呼び出しの順序を明確にしたい

**対象者**: OpenAPI仕様書を持っているすべての人（**最も推奨**）

---

### 📚 補助テンプレート

以下のテンプレートは、OpenAPI仕様書がない場合や、特定の用途に使用します。

#### 1. basic-api-spec.md
基本的なAPI仕様書を生成するためのテンプレート。
RESTful APIの概要、エンドポイント、認証方式などを含む標準的な仕様書を生成します。

**対象者**: OpenAPI仕様書がなく、ゼロから仕様書を作成したい人

#### 2. openapi-spec.md
OpenAPI 3.0形式の仕様書（YAML）を生成するためのテンプレート。
Swagger UIなどのツールで使用できる標準形式の仕様書を生成します。

**対象者**: OpenAPI仕様書自体を作成したい人

#### 3. endpoint-detail.md
特定のエンドポイントについて詳細な仕様書を生成するためのテンプレート。
リクエスト、レスポンス、エラー処理、使用例などを網羅的に記載します。

**対象者**: 特定のエンドポイントだけを詳しく説明したい人

#### 4. error-handling.md
API全体のエラーハンドリング戦略を定義するためのテンプレート。
エラーコード、エラーメッセージ形式、ベストプラクティスなどを定義します。

**対象者**: エラー処理を標準化したい人

## 使い方

### 基本的な流れ（推奨）

1. **OpenAPI仕様書を用意**: 既存のOpenAPI 3.0仕様書（YAML/JSON）を準備
2. **メインテンプレートを使用**: `openapi-enrichment.md` を開く
3. **仕様書を埋め込む**: 指定箇所にOpenAPI仕様書の内容を貼り付け
4. **AI入力**: 完成したプロンプトをChatGPT/Claude/Copilotに入力
5. **拡充された仕様書を取得**: AIが詳細な仕様書を生成

### OpenAPI仕様書がない場合

1. `basic-api-spec.md` または `openapi-spec.md` を使用
2. テンプレートの `[...]` 部分を実際の情報で置き換え
3. AIエージェントに入力して仕様書を生成

## 例（examples/）

`examples/` ディレクトリには、テンプレートを実際に使用した例が含まれています。

### user-management-api.md
ユーザー管理APIの仕様書を生成する完全な例。
基本的なCRUD操作を含むRESTful APIのプロンプト例です。

## カスタマイズのヒント

### OpenAPI仕様書拡充の場合

1. **完全なOpenAPI仕様書を用意**
   - `paths`、`components`、`schemas` を含む完全な仕様書が望ましい
   - 不完全な仕様書でも動作しますが、生成される説明の質が低下する可能性があります

2. **業務ドメイン情報を追加**
   - OpenAPI仕様書に加えて、業務的な文脈や用語の説明を追加すると、より適切な説明が生成されます
   
   例：
   ```
   このAPIは、ECサイトの商品管理システムです。
   「SKU」は在庫管理単位を意味し、色・サイズごとに異なります。
   ```

3. **ユースケースのヒントを提供**
   - 主要なユースケースを事前に列挙すると、AIがより適切な手順を生成できます

### ゼロから作成する場合

1. **具体的な情報を含める**
   - AIエージェントは具体的な情報があるほど良い仕様書を生成します
   - ❌ 悪い例: `API名: [API名]`
   - ✅ 良い例: `API名: E-Commerce Product API v2.0`

2. **データ例を提供する**
   - リクエスト/レスポンスの具体例を含めると、より実用的な仕様書になります

## 推奨される使用順序

### 推奨フロー（OpenAPI仕様書がある場合）
1. ✅ `openapi-enrichment.md` で全体を拡充
2. 必要に応じて `endpoint-detail.md` で個別詳細化
3. 必要に応じて `error-handling.md` でエラー処理統一

### OpenAPI仕様書がない場合
1. `openapi-spec.md` でOpenAPI仕様書を作成
2. `openapi-enrichment.md` で拡充
3. または `basic-api-spec.md` で直接仕様書を作成

## 貢献

新しいテンプレートや改善案がある場合は、Pull Requestを作成してください。

### 新しいテンプレートを追加する場合

1. `prompts/templates/` に `.md` ファイルを作成
2. 明確な構造とプレースホルダーを使用
3. このREADMEに説明を追加
4. `examples/` に使用例を追加

## 参考資料

詳細な使い方については、以下のドキュメントを参照してください：

- [使い方ガイド](../docs/usage-guide.md) - 詳細な使用方法とベストプラクティス
- [メインREADME](../README.md) - リポジトリ全体の概要
